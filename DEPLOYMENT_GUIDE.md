# Руководство по развертыванию на сервере

## Исправления, которые были внесены:

1. **Удален Flask-Uploads** - заменен на встроенный функционал Flask
2. **Обновлены версии pandas/numpy** - pandas==2.2.2, numpy==1.26.4
3. **Исправлен Dockerfile backend** - удалена команда патчинга Flask-Uploads
4. **Исправлен Dockerfile frontend** - добавлены флаги `--unsafe-perm` и `--include=dev` для корректной установки зависимостей
5. **Удален устаревший файл** - patch_flask_uploads.py

## Команды для запуска на сервере:

```bash
# Подключиться к серверу
ssh admin_d@192.168.7.51

# Перейти в директорию проекта
cd /path/to/handbook

# Запустить сборку и запуск контейнеров
docker compose up --build
```

## Проверка работоспособности:

1. Backend должен быть доступен на порту 5000
2. Frontend должен быть доступен на порту 80
3. Импорт из .xlsx и CSV файлов должен работать без ошибок
4. Все CRUD операции должны работать корректно

## Если возникнут проблемы:

1. Проверьте логи контейнеров: `docker compose logs`
2. Убедитесь, что все зависимости установлены: `docker compose exec backend pip list`
3. Проверьте версии pandas и numpy: должны быть 2.2.2 и 1.26.4 соответственно

## Важные изменения в коде:

- Flask-Uploads полностью удален из requirements.txt
- Загрузка файлов реализована через встроенный функционал Flask
- Импорт pandas/numpy работает с совместимыми версиями
- Dockerfile backend очищен от устаревших команд
- Dockerfile frontend исправлен для корректной установки devDependencies
